<!DOCTYPE html>
<html lang="zh-CN">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="derekdomo" />


    
    


<meta property="og:type" content="website">
<meta property="og:title" content="ALittleMoreEveryday">
<meta property="og:url" content="www.derekdomo.com/index.html">
<meta property="og:site_name" content="ALittleMoreEveryday">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ALittleMoreEveryday">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="ALittleMoreEveryday" type="application/atom+xml">



    <link rel="shortcut icon" href="/img/avatar.jpeg">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>ALittleMoreEveryday</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: undefined
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.jpeg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">derekdomo</a></h1>
        </hgroup>

        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:pysunxiangyu@gmail.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bestbuy/">Bestbuy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PS4/">PS4</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Server/">Server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/System-Design/">System Design</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Terminal/">Terminal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tools/">Tools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Work/">Work</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/总结/">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/找工作/">找工作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/新知识/">新知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/羊毛/">羊毛</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">derekdomo</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.jpeg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">derekdomo</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:pysunxiangyu@gmail.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-leetcode-3" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/05/11/leetcode-3/" class="article-date">
      <time datetime="2020-05-11T23:39:12.530Z" itemprop="datePublished">2020-05-11</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
          
        
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2020-05-11" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/05/11/2020-05-11/" class="article-date">
      <time datetime="2020-05-11T07:00:00.000Z" itemprop="datePublished">2020-05-11</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/11/2020-05-11/">跳槽 - 前言</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>前段时间准备跳槽，所以开始一系列的准备工作，包括心仪的公司，刷题，准备系统设计面试等等。最近尘埃落定了，虽然包裹没有预想中的给力，但是公司还可以。所以打算开这个系列的文章，回忆记录一下自己是怎么准备的。</p>
<h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><ul>
<li>为什么想起来要跳槽呢？其实也没有什么特别的原因。换工作按理说在湾区是一个稀松平常的事情。</li>
<li>对于我来说主要有两点，一点是我想换个公司看看，我在这家公司呆了4年了，是时候离开看一看了。第二点是公司变大了，很多东西我开始渐渐的看着不爽，工作起来也有一些不爽。</li>
</ul>
<h2 id="时机的选择"><a href="#时机的选择" class="headerlink" title="时机的选择"></a>时机的选择</h2><ul>
<li>我为什么挑选这个时间来跳槽呢？跳槽这个想法在我脑海里已经折腾了很久了，我初步选择了在我四年纪念日之后，拿到yearly binus之后，这个时间就是3月份。* 挑选yealy bonus之后的原因，这个属于自己这一年的努力的嘉奖，无论如何也要拿。还有一个原因是那会我四年了，公司会给我一个refresh，我也打算看一看这个数字再决定。</li>
<li>所以定下来跳槽时间之后，往回推N个月就是我的准备时间。</li>
<li>现在回过头来看，自己还是比较失败的。因为疫情的原因，公司开始缩招，给的package也不是那么给力。所以我其实如果真的按我的时间线来的话，在我拿到refresh bonus时，就拿到了offer的话，结果应该是会比这个好一点。</li>
</ul>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ul>
<li>因为我主要是面senior，所以除了准备算法题之外，我还要准备系统设计。所以接下来这个系列我主要是cover这两个方面。</li>
<li>回到正题，我的计划是先刷题，在后期开始准备系统设计和machine learning。</li>
<li>刷题：我主要是用的leetcode，现在的leetcode真是不得了，题目真的是太多了。然后同时也用了一些别的工具，来记录和计划自己的刷题进度，比如notion，keep。</li>
<li>系统设计：这个我则是通过事先总结规律，然后分类别准备具体的知识点。同时和朋友一起mock训练。具体的分类我会在接下来的文章中解释。</li>
<li>machine learning: 因为我现在做的东西很多是machine learning相关的，所以我还投了一下MLEngineer的岗位，这就意味着我也得准备一些machine learning相关的东西。</li>
<li>进度tracker：我用了notion来帮我记录我想面试的公司，和各自的进度。个人感觉用处还是挺大的，它可以帮我清晰的看到我想面试的公司，还可以让我不那么拖延。</li>
</ul>
<h2 id="To-be-Continued"><a href="#To-be-Continued" class="headerlink" title="To be Continued"></a>To be Continued</h2><ul>
<li>我计划在接下来的文章中介绍我是怎么准备刷算法题的，还有我是怎么准备的系统设计，还有一些machine learning面试相关的准备。</li>
<li>To Be Continued</li>
</ul>
<p>Do A Little More Everyday.</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Thought-Process/">Thought Process</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/总结/">总结</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-how-to-put-a-closure" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/21/how-to-put-a-closure/" class="article-date">
      <time datetime="2020-02-21T22:55:00.000Z" itemprop="datePublished">2020-02-21</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/21/how-to-put-a-closure/">How to Put A Closure</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>最近回顾了一下去年做的东西，发现自己做了很多东西，但是没有成果出来，很沮丧。今天跟manager聊了一下，发现了一些自己需要思考和做的事情。</p>
<h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><ul>
<li>主要是围绕着我去年做的Simulation Project。去年我们组很大的一个focus是Predictive Dispatch，其中我负责的那部分是Simulation，包括如何在已有的simulation上实现新的feature，从而可以跑PD的simulation，还有利用simulation做headroom analysis。</li>
<li>然后去年一年就像个无头苍蝇一样，先是实现了PD的功能，但是随后的质疑就是simulation的结果是不是可以信赖的。之后就开始搞一堆怎么证明simulation是不是准确的，再之后就开始搞simulation为什么work。再之后就是稀里糊涂的一年过去了。。。</li>
<li>所以从结果上看，啥也没弄出来，Simulation到最后也是不可用的，虽然不能说是啥也没做出来，但的确是啥也没做出来。</li>
</ul>
<h2 id="Put-A-Closure"><a href="#Put-A-Closure" class="headerlink" title="Put A Closure"></a>Put A Closure</h2><ul>
<li>跟Danny聊完之后，我发现辛辛苦苦了一年，的确没啥结果，但也不是没有结果。需要put a closure，来画个句号或者分号。</li>
<li>什么叫put a closure呢？学术一点，叫做形成闭环，大白话一点，叫做圆一下你的故事。从头到尾的把你做过的事情给画一个合理的故事线，让大家理解你的thought process。也许一开始做的原因或者理想的方向并不是这个样子，但是发展到现在，也是可以的。</li>
</ul>
<h2 id="Why-A-Closure"><a href="#Why-A-Closure" class="headerlink" title="Why A Closure"></a>Why A Closure</h2><ul>
<li>为什么要put a closure呢？其实有很多好处。</li>
<li>功利的讲，方便你promote，无论成果如何，你有了这么多东西，别人就知道了你的确accomplish了很多，并且会觉得你说的很make sense。好，那就promote你了！</li>
<li>实际的讲，对自己做过的努力有个交代，不算啥都没做。就像我每年都会写个年终总结一样，是给自己一个交代，自己的一年没有白费，也方便自己认识到自己的现状是什么样子。</li>
<li>鸡汤的讲，圆这个故事的过程，也是一个学习的过程，帮助自己复盘了哪里做的好，哪里做的不好，理清楚了自己做事情的思路，这样子下次再approach这个问题，就会有个更清晰的思路。</li>
<li>长远的讲，画上了句号也好，还是画上了分号也好，整理好这个故事线，也就知道接下来的故事该怎么写了。</li>
</ul>
<h2 id="How-to-Put-A-Closure"><a href="#How-to-Put-A-Closure" class="headerlink" title="How to Put A Closure"></a>How to Put A Closure</h2><ul>
<li>Put a closure的过程就像写故事一样，按时间线理了一下自己做过的事情，然后state一下当下的状况，以及未来的展望。</li>
<li>我之前写过一个类似closure的doc，叫做simulation learning I。基本上就是描述了过去半年我们做过得事情。</li>
</ul>
<h2 id="闲聊"><a href="#闲聊" class="headerlink" title="闲聊"></a>闲聊</h2><ul>
<li>读过很多文章，都在重复说一个观点，听起来还挺玄乎的。</li>
<li>这个概念就是entropy。越条例，entropy越小。一生中不是entropy越来越小的，而是有起有伏的，起的时候就是学习新内容的时候，但是新内容混在一起，虽然entropy很大，但是太乱了，所以我们又要让它变得条例，所以要尽量的降低entropy。Put A Closure也是一个降熵的过程。压缩的过程我们又不希望丢掉东西，所以要尽量多的把东西融进去，不然不白做了。</li>
<li>还是那句话，do a little more everyday，但是现在要多一句话了，but be organized。或者说，increase entropy but decrease it as well.</li>
</ul>
<p>Do A little More Everyday.</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Thought-Process/">Thought Process</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Work/">Work</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-load-balancer-design" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/19/load-balancer-design/" class="article-date">
      <time datetime="2020-02-19T08:00:00.000Z" itemprop="datePublished">2020-02-19</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/19/load-balancer-design/">Load Balancer Design</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>Load Balancer是一个很基础且实际的概念，主要需要解决三个问题</p>
<ul>
<li>distribute requests/network load efficiently across servers</li>
<li>High availabilities &amp; reliabilities</li>
<li>Flexible to add and remove servers</li>
</ul>
<h1 id="Distribute-Requests-Efficiently"><a href="#Distribute-Requests-Efficiently" class="headerlink" title="Distribute Requests Efficiently"></a>Distribute Requests Efficiently</h1><h2 id="Level-4-vs-Level-7"><a href="#Level-4-vs-Level-7" class="headerlink" title="Level 4 vs Level 7"></a>Level 4 vs Level 7</h2><p>一般来说有两种的load balancer，level 4 Transport Level和Level 7 Application Level。各有优劣，level4的比较贵，scale起来成本比较高。而Level 7就会比较便宜一些，而且可以实现更多的功能。</p>
<h2 id="Sticky-Routing-Session-Persistence"><a href="#Sticky-Routing-Session-Persistence" class="headerlink" title="Sticky Routing/Session Persistence"></a>Sticky Routing/Session Persistence</h2><p>有些比较特殊的应用场景，会需要某些request去特定的server，这就需要load balancer维系一个cache来maintain这个状态。<br>至于如何来识别这些request呢，就需要一个identifier，可以是session id，也可以是application level的自己生成的ID。</p>
<h2 id="Load-Balancer-Algorithm"><a href="#Load-Balancer-Algorithm" class="headerlink" title="Load Balancer Algorithm"></a>Load Balancer Algorithm</h2><p>这些就是一些比较常见的算法了，round robin啊，least conn啊，consistent hashing。但是要注意consistent hashing他适合的应用场景，和短板。</p>
<h1 id="High-Availabilities-and-Reliabilities"><a href="#High-Availabilities-and-Reliabilities" class="headerlink" title="High Availabilities and Reliabilities"></a>High Availabilities and Reliabilities</h1><h2 id="Heatbeat"><a href="#Heatbeat" class="headerlink" title="Heatbeat"></a>Heatbeat</h2><p>load balancer是一个很critical的component，如果挂了，那就真的挂了。所以需要一个heart beat来做health check来保证他是work的。</p>
<h2 id="Failover-Redundant-LB-Server"><a href="#Failover-Redundant-LB-Server" class="headerlink" title="Failover/Redundant LB Server"></a>Failover/Redundant LB Server</h2><p>为了保证High Availabilities，就需要在发现LB挂掉的时候，即使的switch over到另一个LB上，来保证availability。</p>
<h1 id="Flexible-to-add-and-remove-servers"><a href="#Flexible-to-add-and-remove-servers" class="headerlink" title="Flexible to add and remove servers"></a>Flexible to add and remove servers</h1><p>First thing first, 如果我们要add和remove server，那就意味着我们要如何存储那些server</p>
<ul>
<li>HAProxy是通过configuration file来register backend的。但是我们也要保证我们可以auto scale</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Interview/">Interview</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/System-Design/">System Design</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-memcache-design" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/18/memcache-design/" class="article-date">
      <time datetime="2020-02-18T08:00:00.000Z" itemprop="datePublished">2020-02-18</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/18/memcache-design/">Key Value Store Design</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>Key Value Data Store猛的一看，其实是一个很简单系统，没有什么特别复杂的逻辑，基本上是两个功能：</p>
<ul>
<li>Lookup</li>
<li>Insert<br>但是里面还是有很多很tricky的地方的，也有很多很常见的系统设计的optimization相关的技术在里面使用。</li>
</ul>
<h2 id="Single-Server-Implementation"><a href="#Single-Server-Implementation" class="headerlink" title="Single Server Implementation"></a>Single Server Implementation</h2><p>Single server特别简单，就是一个hashmap的功能，但是面试官可能会问你几个常见的hashmap的考点：</p>
<ul>
<li>How to avoid memory fragmentation</li>
<li>How to handle concurrent read and write</li>
<li>How to design collision array and when should we expand it</li>
<li>What to do if we are reaching limit of the memory</li>
</ul>
<h3 id="Memory-Framentation"><a href="#Memory-Framentation" class="headerlink" title="Memory Framentation"></a>Memory Framentation</h3><ul>
<li>这方面是什么意思呢？简单来说，如果我们insert的value的大小不一，这样子当一些小的value消失之后，他们所占用的小空间是无法被大的value所利用的，就会导致memory fragmentation。</li>
<li>这样子需要我们合理的分配memory，可参考memcache是如何optimize这方面的，他们把RAM分为page，然后在上面虚拟出了slab的概念，然后slab呢，又分大slab和小slab，然后根据不同的slab的使用情况去选取pages。</li>
</ul>
<h3 id="Concurrent-Read-and-Write"><a href="#Concurrent-Read-and-Write" class="headerlink" title="Concurrent Read and Write"></a>Concurrent Read and Write</h3><ul>
<li>这个就比较简单直接了，就是一个锁的问题。一般来说会用mutex，但是也可以不用mutex，单纯的就是single thread。</li>
<li>Redis就是single thread，而memcache就允许使用多个thread，但是也有上限。</li>
<li>如果使用锁的话，我们可以在key上加mutex</li>
</ul>
<h3 id="Expanding-the-table"><a href="#Expanding-the-table" class="headerlink" title="Expanding the table"></a>Expanding the table</h3><ul>
<li>这里有一个概念叫做load factor，根据这个我们可以来判断什么时候我们该做expand操作</li>
<li>典型的expand操作是一个一个的移过去，然后读是读两个，写是写新的那个</li>
</ul>
<h3 id="Eviction-Policy"><a href="#Eviction-Policy" class="headerlink" title="Eviction Policy"></a>Eviction Policy</h3><ul>
<li>这方面有很多算法，LRU，LFU，等等</li>
</ul>
<h2 id="Multiple-Server-Implementation"><a href="#Multiple-Server-Implementation" class="headerlink" title="Multiple Server Implementation"></a>Multiple Server Implementation</h2><p>这就更多的属于distributed system的问题了，主要的问题有以下几种：</p>
<ul>
<li>how to load balance</li>
<li>how to avoid potential issues while elastically adding new machines</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Interview/">Interview</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/System-Design/">System Design</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-useful-tools" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/02/05/useful-tools/" class="article-date">
      <time datetime="2019-02-06T06:48:50.000Z" itemprop="datePublished">2019-02-05</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/05/useful-tools/">Useful tools</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <ul>
<li>ranger</li>
<li>unp</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/生活/">生活</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tools/">Tools</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-hyper-config" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/05/15/hyper-config/" class="article-date">
      <time datetime="2017-05-16T05:00:00.000Z" itemprop="datePublished">2017-05-15</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/15/hyper-config/">Hyper</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>最近新发现的一个terminal叫做hyper，是用Electron那一套写的。样子看着还是挺酷的。虽然mac已经有了很好的iterm，但是还可以玩一玩。<br>有一点很吸引我的是他的插件。我现在用的好多东西都有插件系统，比如zsh，vim，tmux。唯独我现在用的iterm没有。现在hyper相当于有了这个功能，而且与其他的用起来没有什么overlap，很爽！<br>想象一下，任何可以在web上做的trick基本上都可以在terminal上可以实现，这是多爽啊~~</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Productivity/">Productivity</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Terminal/">Terminal</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-leetcode-2" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/05/15/leetcode-2/" class="article-date">
      <time datetime="2017-05-16T05:00:00.000Z" itemprop="datePublished">2017-05-15</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/15/leetcode-2/">Leetcode-[3Sum Closest]</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="Problem-Definition"><a href="#Problem-Definition" class="headerlink" title="Problem Definition"></a>Problem Definition</h1><p>Given an array nums of n integers and an integer target, find three integers in nums such that the sum is closest to target. Return the sum of the three integers. You may assume that each input would have exactly one solution.</p>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">class Solution(object):</div><div class="line">    def threeSumClosest(self, nums, target):</div><div class="line">        nums.sort()</div><div class="line">        lenght = len(nums)</div><div class="line">        closestSum = nums[0] + nums[1] + nums[2]</div><div class="line">        smallestDiff = target - closestSum </div><div class="line">        for i in xrange(length-2):</div><div class="line">            left = ind+1</div><div class="line">            right  = length-1</div><div class="line">            while left &lt; right:</div><div class="line">                sum = nums[i] + nums[left] + nums[right]</div><div class="line">                diff = target-sum</div><div class="line">                if diff == 0:</div><div class="line">                    return target</div><div class="line">                elif diff &gt; 0:</div><div class="line">                    right = right -1</div><div class="line">                else:</div><div class="line">                    left = left + 1</div><div class="line">                if abs(smallestDiff) &lt; abs(diff):</div><div class="line">                    smallestDiff = diff</div><div class="line">                    closestSum = sum</div><div class="line">        return closestSum</div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Leetcode/">Leetcode</a><a class="article-category-link" href="/categories/Leetcode/Array/">Array</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/找工作/">找工作</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2020 derekdomo
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>



<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-89151683-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>